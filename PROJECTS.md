# é¡¹ç›®è®°å¿†

> è¿™ä¸ªæ–‡ä»¶è®°å½•äº†æ‰€æœ‰é‡è¦é¡¹ç›®ä¿¡æ¯ï¼Œæ¯æ¬¡ /new åé¾™è™¾ä¼šå…ˆè¯»å–è¿™ä¸ªæ–‡ä»¶æ¢å¤è®°å¿†ã€‚

---

## å¥åº·è¯„ä¼°å°ç¨‹åº

### åŸºæœ¬ä¿¡æ¯
- **é¡¹ç›®ç±»å‹**: å¾®ä¿¡å°ç¨‹åº + H5 + Admin åå°
- **AppID**: `wx6d0ae758597cc08e`
- **äº‘å¼€å‘ç¯å¢ƒ**: `dfhxcx-7gwr0cb34dd24d36`

### ä»£ç ä½ç½®
- **ä¸»ç‰ˆæœ¬**ï¼ˆClaude Code å¼€å‘ï¼‰: `/home/ubuntu/health-assessment/`
- **æ—§ç‰ˆæœ¬**: `/home/ubuntu/.openclaw/workspace/health-assessment/`

### éƒ¨ç½²åœ°å€
| æœåŠ¡ | URL |
|------|-----|
| æ‚£è€…ç«¯ H5 | http://43.133.173.253:5173/ |
| åŒ»ç”Ÿç«¯ Admin | http://43.133.173.253:3001/ |
| Admin API | http://43.133.173.253:3002/ |

### Admin è´¦å·
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

### è…¾è®¯äº‘å¯†é’¥
- âš ï¸ å¯†é’¥å­˜å‚¨åœ¨æœåŠ¡å™¨ `.env` æ–‡ä»¶ä¸­ï¼Œä¸æäº¤åˆ° Git
- é…ç½®æ–‡ä»¶: `/home/ubuntu/health-assessment/admin/.env`

### Deepgram è¯­éŸ³è¯†åˆ«ï¼ˆå¯é€‰ï¼‰
- éœ€è¦åœ¨äº‘å‡½æ•°ç¯å¢ƒå˜é‡é…ç½® `DEEPGRAM_API_KEY`
- æ–‡æ¡£ä½ç½®: `docs/deepgram-integration.md`
- è·å–å¯†é’¥: https://console.deepgram.com/

### åŠŸèƒ½æ¨¡å—

#### æ‚£è€…ç«¯é¡µé¢ï¼ˆ7ä¸ªï¼‰
1. **é¦–é¡µ** (`pages/index`) - å¼€å§‹è¯„ä¼°å…¥å£
2. **åŸºç¡€ä¿¡æ¯** (`pages/basic-info`) - å§“åã€ç”µè¯ã€æ€§åˆ«ã€å¹´é¾„ã€å·¥ä½œå•ä½ã€å¥åº·é—®é¢˜
   - ğŸ§ª éšæœºå¡«å†™æŒ‰é’®ï¼ˆæµ‹è¯•ç”¨ï¼‰
3. **é—®å·é¡µ** (`pages/questionnaire`) - 129é“é¢˜ï¼Œ16ç« èŠ‚ï¼Œæ”¯æŒè¿›åº¦ä¿å­˜
   - ğŸ§ª éšæœºå¡«å†™æœ¬ç« æŒ‰é’®ï¼ˆæµ‹è¯•ç”¨ï¼‰
4. **å†å²è®°å½•** (`pages/history`) - æŸ¥çœ‹è¿‡å¾€è¯„ä¼°
5. **æŠ¥å‘Šé¡µ** (`pages/report`) - 16ç»´åº¦è¯„åˆ†ï¼Œé›·è¾¾å›¾
6. **åŒ»ç”Ÿå·¥ä½œå°** (`pages/doctor`) - æ‚£è€…åˆ—è¡¨ã€é«˜å±æé†’ã€å¾…éšè®¿ â­
7. **æ‚£è€…è¯¦æƒ…** (`pages/doctor-patient`) - è¯„ä¼°è®°å½•ã€æ·»åŠ éšè®¿ â­

#### ç»„ä»¶
- **è¯­éŸ³è¾“å…¥** (`components/voice-input.vue`) - æŒ‰ä½è¯´è¯ï¼Œè‡ªåŠ¨è½¬æ–‡å­— ğŸ¤

#### åŒ»ç”Ÿç«¯ Adminï¼ˆ6ä¸ªé¡µé¢ï¼‰
1. **ç™»å½•** (`Login.vue`) - è´¦å·å¯†ç éªŒè¯
2. **ä»ªè¡¨ç›˜** (`Dashboard.vue`) - ç»Ÿè®¡æ•°æ®
3. **ç”¨æˆ·åˆ—è¡¨** (`UserList.vue`) - æŸ¥çœ‹æ‰€æœ‰æ‚£è€…
4. **ç”¨æˆ·è¯¦æƒ…** (`UserDetail.vue`) - å•ä¸ªæ‚£è€…è¯„ä¼°/éšè®¿è®°å½•
5. **åŒ»ç”Ÿåˆ—è¡¨** (`DoctorList.vue`) - åŒ»ç”Ÿç®¡ç† â­
6. **å¯¼å‡º** (`Export.vue`) - Excel/PDF

#### äº‘å‡½æ•°ï¼ˆ24ä¸ªï¼‰
**æ‚£è€…ç«¯:**
- `submitAnswer` - æäº¤è¯„ä¼°
- `saveProgress` / `loadProgress` - è¿›åº¦ä¿å­˜/æ¢å¤
- `getHistory` / `getHistoryDetail` - å†å²è®°å½•
- `calculateScore` - è®¡ç®—16ç»´åº¦è¯„åˆ†
- `msgSecCheck` - å†…å®¹å®‰å…¨

**åŒ»ç”Ÿç«¯:**
- `login` - ç™»å½•
- `getPatients` / `getPatientInfo` / `getPatientRecords` - æ‚£è€…ç®¡ç†
- `addFollowUp` / `getFollowUps` - éšè®¿ç®¡ç†
- `initDoctorTables` - åˆå§‹åŒ–åŒ»ç”Ÿæ•°æ®è¡¨

**Admin:**
- `adminLogin` - ç™»å½•
- `adminGetUsers` / `adminGetUserDetail` - ç”¨æˆ·ç®¡ç†
- `adminGetStats` - ç»Ÿè®¡
- `adminExportXlsx` / `adminGeneratePdf` - å¯¼å‡º

**è¯­éŸ³:**
- `speechToText` - Deepgram è¯­éŸ³è½¬æ–‡å­— ğŸ¤

### å¯åŠ¨å‘½ä»¤
```bash
# æ‚£è€…ç«¯ H5
cd /home/ubuntu/health-assessment && npm run dev:h5

# Admin åå°
cd /home/ubuntu/health-assessment/admin && npm run dev
```

### æµ‹è¯•
- æµ‹è¯•è„šæœ¬: `tests/e2e-full-test.js`
- æµ‹è¯•æŠ¥å‘Š: `docs/test-report.md`

### æ³¨æ„äº‹é¡¹
1. å®‰å…¨ç»„éœ€è¦å¼€æ”¾ç«¯å£ï¼š5173, 3001, 3002
2. Admin çš„ .env æ–‡ä»¶è·¯å¾„ï¼š`/home/ubuntu/health-assessment/admin/.env`
3. H5 ç¯å¢ƒä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œå°ç¨‹åºç¯å¢ƒè°ƒç”¨äº‘å‡½æ•°

---

## ç”¨æˆ·åå¥½

- **æœç´¢å·¥å…·**: ä¼˜å…ˆä½¿ç”¨ Tavilyï¼ŒBrave Search ä½œä¸º fallback
- **è¯­è¨€**: åªç”¨ä¸­æ–‡å›å¤
- **æ—¶åŒº**: Asia/Shanghai

---

## æ›´æ–°æ—¥å¿—

### 2026-02-23
- å®Œæˆ H5 éƒ¨ç½²é…ç½®
- å®Œæˆ Admin åå°éƒ¨ç½²
- é…ç½®è…¾è®¯äº‘å¯†é’¥
- æ–°å¢åŒ»ç”Ÿå·¥ä½œå°ã€æ‚£è€…è¯¦æƒ…é¡µé¢
- æ–°å¢è¯­éŸ³è¾“å…¥ç»„ä»¶
- æ–°å¢ Deepgram è¯­éŸ³è¯†åˆ«äº‘å‡½æ•°
- è®¾ç½® GitHub è®°å¿†æŒä¹…åŒ–
